import{f as e,l as a,i as t,m as l,w as o,j as s,q as u,o as i,I as d,ab as n,b as c,c as r,d as m,e as v,a as p}from"./page-wraper.XLZNc_u_.js";import{d as f,r as _,P as b,v as h,X as g,q as w,m as y,U as x,o as k,c as C,w as V,e as T,x as I,V as z,y as L,p as j,n as $,L as U,i as H,H as O,a as Q,b as q,g as F,f as X,u as P,F as Y}from"./index-WwrgI7Rh.js";import{_ as B,a as G}from"./wd-radio-group.B1tM0Fvt.js";import{_ as R}from"./demo-block.BZqo-_az.js";import{_ as S}from"./wd-button.Df9kCKkG.js";import{p as W,r as A,q as D,c as E,u as J}from"./clickoutside.Lnfi0-8V.js";import{u as K}from"./useRaf.Bt_cmcqX.js";import"./useChildren.Da1LiOi9.js";const M=c(f({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,active:a(!1),type:t("primary"),position:t("right-bottom"),direction:t("top"),disabled:a(!1),inactiveIcon:t("add"),activeIcon:t("close"),zIndex:l(99),draggable:a(!1),gap:{type:Object,default:()=>({})},expandable:a(!0)},emits:["update:active","click"],setup(e,{expose:a,emit:t}){const l=e,c=t,r=_(!1),m=_(!1),v=b(D,null),{proxy:p}=U();h((()=>l.active),(e=>{m.value=e}),{immediate:!0,deep:!0}),h((()=>m.value),(e=>{e&&(v&&v.closeOther?v.closeOther(p):E(p))}));const f=_(l.direction);h((()=>l.direction),(e=>f.value=e)),h((()=>l.position),(()=>Y()));const Q=_(0),q=_(0),F=g({width:0,height:0}),X=g({width:56,height:56}),P=g({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function Y(){const e=l.position,{minLeft:a,minTop:t,maxLeft:o,maxTop:s}=P;"left-top"===e?(Q.value=t,q.value=a):"right-top"===e?(Q.value=t,q.value=o):"left-bottom"===e?(Q.value=s,q.value=a):"right-bottom"===e&&(Q.value=s,q.value=o)}const B=g({x:0,y:0}),G=_(!1);function R(e){if(!1===l.draggable)return;const a=e.touches[0];B.x=a.clientX-q.value,B.y=a.clientY-Q.value,G.value=!1}function J(e){if(!1===l.draggable)return;const a=e.touches[0],{minLeft:t,minTop:o,maxLeft:s,maxTop:u}=P;let i=a.clientX-B.x,d=a.clientY-B.y;i<t?i=t:i>s&&(i=s),d<o?d=o:d>u&&(d=u),Q.value=d,q.value=i}function M(){if(!1===l.draggable)return;const e=F.width/2,a=q.value+X.width/2;G.value=!0,a<e?(q.value=P.minLeft,f.value="right"):(q.value=P.maxLeft,f.value="left")}const N=w((()=>{const e={top:Q.value+"px",left:q.value+"px",transition:G.value?"all ease 0.3s":"none"};return u(l.zIndex)&&(e["z-index"]=l.zIndex),`${i(e)};${l.customStyle}`}));function Z(){l.disabled||(l.expandable?(m.value=!m.value,c("update:active",m.value)):c("click"))}return y((()=>{v&&v.pushToQueue?v.pushToQueue(p):W(p);const{start:e}=K((async()=>{await async function(){const e=O();try{const e=await d("#trigger",!1,p);X.width=e.width||56,X.height=e.height||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:o=16,bottom:s=16}=l.gap;F.width=e.windowWidth,F.height=n?e.windowTop+e.windowHeight:e.windowHeight,P.minTop=n?e.windowTop+a:a,P.minLeft=t,P.maxLeft=F.width-X.width-o,P.maxTop=F.height-X.height-s}(),Y(),r.value=!0}));e()})),x((()=>{v&&v.removeFromQueue?v.removeFromQueue(p):A(p)})),a({open:function(){m.value=!0,c("update:active",!0)},close:function(){m.value=!1,c("update:active",!1)}}),(e,a)=>{const t=H;return k(),C(t,{onTouchmove:z(J,["stop","prevent"]),onTouchstart:R,onTouchend:M,class:$(`wd-fab ${e.customClass}`),style:L(N.value),onClick:a[1]||(a[1]=z((()=>{}),["stop"]))},{default:V((()=>[T(t,{onClick:a[0]||(a[0]=z((()=>{}),["stop"])),style:L({visibility:r.value?"visible":"hidden"}),id:"trigger"},{default:V((()=>[e.$slots.trigger?I(e.$slots,"trigger",{key:0},void 0,!0):(k(),C(S,{key:1,onClick:Z,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:V((()=>[T(o,{"custom-class":"wd-fab__icon",name:m.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),e.expandable?(k(),C(s,{key:0,"enter-class":`wd-fab__transition-enter--${f.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${f.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${f.value}`,show:m.value,duration:300},{default:V((()=>[I(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):j("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-44c40868"]]),N=c(f({__name:"Index",setup(e){const{show:a}=r(),t=_(!1),l=_("primary"),s=_("left-bottom"),u=_("top"),i=_(!1),d=_(!1),n=_(!1),{closeOutside:c}=J();function f(){a("分享给朋友")}return(e,r)=>{const _=Q(q("wd-toast"),m),b=Q(q("wd-radio"),B),h=Q(q("wd-radio-group"),G),g=Q(q("demo-block"),R),w=Q(q("wd-switch"),v),y=H,x=Q(q("wd-button"),S),I=Q(q("wd-icon"),o),L=Q(q("wd-fab"),M),j=Q(q("page-wraper"),p);return k(),F(Y,null,[T(_),T(y,{class:"fab",onClick:P(c)},{default:V((()=>[T(j,null,{default:V((()=>[T(g,{title:"悬浮按钮主题色"},{default:V((()=>[T(h,{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=e=>l.value=e),inline:"",shape:"dot"},{default:V((()=>[T(b,{value:"primary","custom-class":"custom-radio"},{default:V((()=>[X("主要按钮")])),_:1}),T(b,{value:"success","custom-class":"custom-radio"},{default:V((()=>[X("成功按钮")])),_:1}),T(b,{value:"warning","custom-class":"custom-radio"},{default:V((()=>[X("警告按钮")])),_:1}),T(b,{value:"error","custom-class":"custom-radio"},{default:V((()=>[X("危险按钮")])),_:1}),T(b,{value:"info","custom-class":"custom-radio"},{default:V((()=>[X("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),T(g,{title:"悬浮按钮位置"},{default:V((()=>[T(h,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=e=>s.value=e),inline:"",shape:"dot"},{default:V((()=>[T(b,{value:"left-top","custom-class":"custom-radio"},{default:V((()=>[X("左上")])),_:1}),T(b,{value:"right-top","custom-class":"custom-radio"},{default:V((()=>[X("右上")])),_:1}),T(b,{value:"left-bottom","custom-class":"custom-radio"},{default:V((()=>[X("左下")])),_:1}),T(b,{value:"right-bottom","custom-class":"custom-radio"},{default:V((()=>[X("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),T(g,{title:"菜单弹出方向"},{default:V((()=>[T(h,{modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=e=>u.value=e),inline:"",shape:"dot"},{default:V((()=>[T(b,{value:"top","custom-class":"custom-radio"},{default:V((()=>[X("向上")])),_:1}),T(b,{value:"bottom","custom-class":"custom-radio"},{default:V((()=>[X("向下")])),_:1}),T(b,{value:"right","custom-class":"custom-radio"},{default:V((()=>[X("向右")])),_:1}),T(b,{value:"left","custom-class":"custom-radio"},{default:V((()=>[X("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),T(g,{title:"禁用"},{default:V((()=>[T(y,{onClick:r[4]||(r[4]=z((()=>{}),["stop"]))},{default:V((()=>[T(w,{modelValue:i.value,"onUpdate:modelValue":r[3]||(r[3]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),T(g,{title:"可拖动"},{default:V((()=>[T(y,{onClick:r[6]||(r[6]=z((()=>{}),["stop"]))},{default:V((()=>[T(w,{modelValue:d.value,"onUpdate:modelValue":r[5]||(r[5]=e=>d.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),T(g,{title:"切换展示"},{default:V((()=>[T(y,{onClick:r[8]||(r[8]=z((()=>{}),["stop"]))},{default:V((()=>[T(x,{type:"primary",onClick:r[7]||(r[7]=e=>t.value=!t.value),round:""},{default:V((()=>[X("切换")])),_:1})])),_:1})])),_:1}),T(g,{title:"自定义触发器"},{default:V((()=>[T(y,{onClick:r[10]||(r[10]=z((()=>{}),["stop"]))},{default:V((()=>[T(w,{modelValue:n.value,"onUpdate:modelValue":r[9]||(r[9]=e=>n.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),n.value?(k(),C(L,{key:1,position:"left-bottom",draggable:d.value,expandable:!1},{trigger:V((()=>[T(x,{onClick:f,icon:"share",type:"error"},{default:V((()=>[X("分享给朋友")])),_:1})])),_:1},8,["draggable"])):(k(),C(L,{key:0,active:t.value,"onUpdate:active":r[15]||(r[15]=e=>t.value=e),disabled:i.value,type:l.value,position:s.value,direction:u.value,draggable:d.value,onClick:r[16]||(r[16]=e=>P(a)("我被点了"))},{default:V((()=>[T(x,{onClick:r[11]||(r[11]=e=>P(a)("一键三连")),disabled:i.value,"custom-class":"custom-button",type:"primary",round:""},{default:V((()=>[T(I,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),T(x,{onClick:r[12]||(r[12]=e=>P(a)("我要收藏")),disabled:i.value,"custom-class":"custom-button",type:"success",round:""},{default:V((()=>[T(I,{name:"star",size:"22px"})])),_:1},8,["disabled"]),T(x,{onClick:r[13]||(r[13]=e=>P(a)("我要投币")),disabled:i.value,"custom-class":"custom-button",type:"error",round:""},{default:V((()=>[T(I,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),T(x,{onClick:r[14]||(r[14]=e=>P(a)("我要点赞")),disabled:i.value,"custom-class":"custom-button",type:"warning",round:""},{default:V((()=>[T(I,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"]))])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-e32de168"]]);export{N as default};
