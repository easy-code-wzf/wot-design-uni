import{d as e,r as l,q as a,o as t,c as o,w as r,g as d,h as s,F as i,n,u as c,y as p,i as u,x as b,f as h,t as g,j as f,X as m,e as w,p as _,a8 as x,a as v,b as y}from"./index-WwrgI7Rh.js";import{P as $,y as k,l as j,i as C,f as S,D as L,g as H,q as V,h as I,C as D,o as F,aa as M,b as R,H as U,t as E,R as q,a as G}from"./page-wraper.XLZNc_u_.js";import{w as A}from"./wd-sort-button.CTEIXIWx.js";import{u as B}from"./useTranslate.B9y1fU2w.js";import{u as N}from"./useChildren.Da1LiOi9.js";import{_ as O}from"./demo-block.BZqo-_az.js";import{_ as P}from"./wd-pagination.DeMwDcKb.js";import"./wd-button.Df9kCKkG.js";const T={prop:$(String),label:$(String),width:k(100),sortable:j(!1),fixed:j(!1),align:C("left")},X={...S,data:$(Array),border:j(!0),stripe:j(!0),height:L,rowHeight:k(50),showHeader:j(!0),ellipsis:j(!0),index:{type:[Object,Boolean],default:!1},fixedHeader:j(!0)},z=Symbol("wd-table"),J=R(e({name:"wd-table-col",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:T,setup(e,{expose:m}){const w=e,{parent:_,index:x}=H(z),v=l(0),y=a((()=>!!V(_)&&_.props.stripe)),$=a((()=>!!V(_)&&_.props.border)),k=a((()=>!!V(_)&&_.props.ellipsis)),j=a((()=>{let e=!1;return w.fixed&&V(_)&&(e=_.getIsLastFixed(w)),e})),C=a((()=>{let e={};return V(w.width)&&(e.width=I(w.width)),w.fixed&&V(_)&&D(_.getFixedStyle)&&(e=_.getFixedStyle(x.value,e)),e})),S=a((()=>{let e={};const l=V(_)?_.props.rowHeight:50;return V(l)&&(e.height=I(l)),w.fixed&&V(_)&&D(_.getFixedStyle)&&(e=_.getFixedStyle(x.value,e)),F(e)})),L=a((()=>{if(!V(_))return[];return _.props.data.map((e=>e[w.prop]))}));function R(e){return V(_)&&_.props.data[e]||{}}return m({sortDirection:v}),(e,l)=>{const a=f,m=u;return t(),o(m,{class:n(`wd-table-col ${e.fixed?"wd-table-col--fixed":""} ${j.value&&c(V)(c(_))&&c(_).state.scrollLeft?"is-shadow":""}`),style:p(C.value)},{default:r((()=>[(t(!0),d(i,null,s(L.value,((l,d)=>(t(),o(m,{class:n(`wd-table__cell ${y.value&&c(M)(d)?"is-stripe":""} ${$.value?"is-border":""} is-${e.align}`),key:d,style:p(S.value),onClick:e=>function(e){V(_)&&D(_.rowClick)&&_.rowClick(e)}(d)},{default:r((()=>[e.$slots.value?b(e.$slots,"value",{key:0,row:R(d),index:d},void 0,!0):(t(),o(a,{key:1,class:n("wd-table__value "+(k.value?"is-ellipsis":""))},{default:r((()=>[h(g(l),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style","onClick"])))),128))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-3fd18cf6"]]),K=R(e({name:"wd-table",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:X,emits:["sort-method","row-click"],setup(e,{emit:v}){const{translate:y}=B("tableCol"),$=e,k=v,j=m({scrollLeft:0}),{linkChildren:C,children:S}=N(z);C({props:$,state:j,rowClick:function(e){k("row-click",{rowIndex:e})},getIsLastFixed:O,getFixedStyle:T});const L=U(),H=l({prop:L,label:y("indexLabel"),width:"100rpx",sortable:!1,fixed:!1,align:"left",...E($.index)?$.index:{}}),D=q((function(e){j.scrollLeft=e.detail.scrollLeft}),100,{leading:!1}),M=a((()=>{const e={};return V($.height)&&(e["max-height"]=I($.height)),`${F(e)};${$.customStyle}`})),R=a((()=>{const e={display:"flex"};let l="";return S.forEach((e=>{l=l?`${l} + ${I(e.width)}`:I(e.width)})),e.width=`calc(${l})`,F(e)})),G=a((()=>{const e={};return V($.height)&&(e.height=V($.rowHeight)?`calc(${$.data.length} * ${I($.rowHeight)})`:`calc(${$.data.length} * 50px)`),`${F(e)};`}));function O(e){let l=!1;if(e.fixed&&V(S)){const a=S.filter((e=>e.fixed));a.length&&a[a.length-1].prop===e.prop&&(l=!0)}return l}function P(e){let l={};return V(S[e].width)&&(l.width=I(S[e].width)),S[e].fixed&&(l=T(e,l)),F(l)}function T(e,l){if(e>0){let a="";S.forEach(((l,t)=>{t<e&&(a=a?`${a} + ${I(l.width)}`:I(l.width))})),l.left=`calc(${a})`}else l.left=0;return l}function X(e,l){S[l].$.exposed.sortDirection.value=e,S.forEach(((e,a)=>{l!=a&&(e.$.exposed.sortDirection.value=0)}));const a={prop:S[l].prop,label:S[l].label,width:S[l].width,sortable:S[l].sortable,align:S[l].align,sortDirection:e,fixed:S[l].fixed};k("sort-method",a)}return(e,l)=>{const a=f,m=u,v=x;return t(),o(m,{class:n(`wd-table ${e.border?"is-border":""} ${e.customClass}`),style:p(M.value)},{default:r((()=>[e.fixedHeader?(t(),d(i,{key:0},[e.showHeader?(t(),o(v,{key:0,"enable-flex":!0,throttle:!1,scrollLeft:j.scrollLeft,"scroll-x":!0,class:"wd-table__header",onScroll:c(D)},{default:r((()=>[w(m,{id:"table-header",class:"wd-table__content wd-table__content--header",style:p(R.value)},{default:r((()=>[(t(!0),d(i,null,s(c(S),((l,d)=>(t(),o(m,{class:n(`wd-table__cell ${e.border?"is-border":""} ${l.fixed?"is-fixed":""} ${e.stripe?"is-stripe":""} is-${l.align} ${O(l)&&j.scrollLeft?"is-shadow":""}`),style:p(P(d)),key:d},{default:r((()=>[l.sortable?(t(),o(A,{key:0,modelValue:l.$.exposed.sortDirection.value,"onUpdate:modelValue":e=>l.$.exposed.sortDirection.value=e,"allow-reset":"",line:!1,title:l.label,onChange:({value:e})=>X(e,d)},null,8,["modelValue","onUpdate:modelValue","title","onChange"])):(t(),o(a,{key:1,class:n("wd-table__value "+(e.ellipsis?"is-ellipsis":""))},{default:r((()=>[h(g(l.label),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style"])))),128))])),_:1},8,["style"])])),_:1},8,["scrollLeft","onScroll"])):_("",!0),w(v,{class:"wd-table__body",style:p(G.value),"enable-flex":!0,throttle:!1,"scroll-x":!0,onScroll:c(D),scrollLeft:j.scrollLeft},{default:r((()=>[w(m,{id:"table-body",class:"wd-table__content",style:p(R.value)},{default:r((()=>[!1!==e.index?(t(),o(J,{key:0,prop:H.value.prop,label:H.value.label,width:H.value.width,sortable:H.value.sortable,fixed:H.value.fixed,align:H.value.align},{value:r((({index:e})=>[w(a,null,{default:r((()=>[h(g(e+1),1)])),_:2},1024)])),_:1},8,["prop","label","width","sortable","fixed","align"])):_("",!0),b(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style","onScroll","scrollLeft"])],64)):(t(),o(v,{key:1,class:"wd-table__wrapper","enable-flex":!0,throttle:!1,"scroll-x":!0,onScroll:c(D),scrollLeft:j.scrollLeft},{default:r((()=>[w(m,{class:"wd-table__inner",style:p(R.value)},{default:r((()=>[e.showHeader?(t(),o(m,{key:0,class:"wd-table__header-row"},{default:r((()=>[(t(!0),d(i,null,s(c(S),((l,d)=>(t(),o(m,{key:d,class:n(`wd-table__cell ${e.border?"is-border":""} ${l.fixed?"is-fixed":""} ${e.stripe?"is-stripe":""} is-${l.align} ${O(l)&&j.scrollLeft?"is-shadow":""}`),style:p(P(d))},{default:r((()=>[l.sortable?(t(),o(A,{key:0,modelValue:l.$.exposed.sortDirection.value,"onUpdate:modelValue":e=>l.$.exposed.sortDirection.value=e,"allow-reset":"",line:!1,title:l.label,onChange:({value:e})=>X(e,d)},null,8,["modelValue","onUpdate:modelValue","title","onChange"])):(t(),o(a,{key:1,class:n("wd-table__value "+(e.ellipsis?"is-ellipsis":""))},{default:r((()=>[h(g(l.label),1)])),_:2},1032,["class"]))])),_:2},1032,["class","style"])))),128))])),_:1})):_("",!0),w(m,{class:"wd-table__content",style:p(G.value)},{default:r((()=>[!1!==e.index?(t(),o(J,{key:0,prop:H.value.prop,label:H.value.label,width:H.value.width,sortable:H.value.sortable,fixed:H.value.fixed,align:H.value.align},{value:r((({index:e})=>[w(a,null,{default:r((()=>[h(g(e+1),1)])),_:2},1024)])),_:1},8,["prop","label","width","sortable","fixed","align"])):_("",!0),b(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["style"])])),_:3},8,["onScroll","scrollLeft"]))])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-061231cb"]]),Q=R(e({__name:"Index",setup(e){const d=l([{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:36,compare:"48%",hobby:"子龙，子龙，世无双"},{name:"关羽",school:"武汉市阳逻绿豆学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:66,compare:"48%",hobby:"颜良文丑，以吾观之，如土鸡瓦犬耳。"},{name:"刘备",school:"武汉市阳逻编织学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:68,compare:"21%",hobby:"我得空明，如鱼得水也"},{name:"赵云",school:"武汉市阳逻妇幼保健学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:91,compare:"12%",hobby:"子龙，子龙，世无双"},{name:"孔明",school:"武汉市阳逻卧龙学院",major:"计算机科学与技术专业",gender:"男",graduation:"2022年1月12日",grade:99,compare:"18%",hobby:"兴汉讨贼，克复中原"}]),s=l(1),i=l(10),n=l(d.value.length),c=a((()=>d.value.slice((s.value-1)*i.value,s.value*i.value)));function p(e){d.value=d.value.reverse()}function b({rowIndex:e}){console.log(e)}return(e,l)=>{const a=v(y("wd-table-col"),J),i=v(y("wd-table"),K),m=v(y("demo-block"),O),_=f,x=u,$=v(y("wd-pagination"),P),k=v(y("page-wraper"),G);return t(),o(k,null,{default:r((()=>[w(m,{title:"基本用法"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,height:400,onRowClick:b},{default:r((()=>[w(a,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(a,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(m,{title:"无边框"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,height:400,border:!1,onRowClick:b},{default:r((()=>[w(a,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(a,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(m,{title:"无斑马纹"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,height:400,stripe:!1,onRowClick:b},{default:r((()=>[w(a,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(a,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(m,{title:"不展示表头"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,height:400,"show-header":!1,onRowClick:b},{default:r((()=>[w(a,{prop:"name",label:"姓名",align:"center",width:"50%"}),w(a,{prop:"grade",label:"分数",align:"center",width:"50%"})])),_:1},8,["data"])])),_:1}),w(m,{title:"固定列"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,onRowClick:b,height:400},{default:r((()=>[w(a,{prop:"name",label:"姓名",fixed:"",sortable:"",align:"center"}),w(a,{prop:"grade",label:"分数",fixed:"",sortable:"",align:"center"}),w(a,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),w(a,{prop:"school",label:"求学之所",width:180}),w(a,{prop:"major",label:"专业"}),w(a,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),w(m,{title:"显示索引"},{default:r((()=>[w(i,{data:d.value,height:400,onSortMethod:p,index:{align:"center"}},{default:r((()=>[w(a,{prop:"name",label:"姓名",sortable:"",align:"center"}),w(a,{prop:"grade",label:"分数",sortable:"",align:"center"}),w(a,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),w(a,{prop:"school",label:"求学之所",width:180}),w(a,{prop:"major",label:"专业"}),w(a,{prop:"gender",label:"性别"})])),_:1},8,["data"])])),_:1}),w(m,{title:"自定义列模板"},{default:r((()=>[w(i,{data:d.value,onSortMethod:p,onRowClick:b,height:400},{default:r((()=>[w(a,{prop:"name",label:"姓名",fixed:"",sortable:"",align:"center"}),w(a,{prop:"grade",label:"分数",fixed:"",sortable:"",align:"center"},{value:r((({row:e})=>[w(x,{class:"custom-class"},{default:r((()=>[w(_,null,{default:r((()=>[h(g(e.grade),1)])),_:2},1024),w(_,null,{default:r((()=>[h("同比"+g(e.compare),1)])),_:2},1024)])),_:2},1024)])),_:1}),w(a,{prop:"hobby",label:"一言以蔽之",sortable:"",width:160}),w(a,{prop:"school",label:"求学之所",width:180}),w(a,{prop:"major",label:"专业"}),w(a,{prop:"gender",label:"性别"}),w(a,{prop:"graduation",label:"学成时间"})])),_:1},8,["data"])])),_:1}),w(m,{title:"不固定表头结合分页器"},{default:r((()=>[w(i,{data:c.value,"fixed-header":!1},{default:r((()=>[w(a,{prop:"name",label:"姓名",fixed:"",align:"center"}),w(a,{prop:"grade",label:"分数",fixed:"",align:"center"}),w(a,{prop:"hobby",label:"一言以蔽之",width:160}),w(a,{prop:"school",label:"求学之所",width:180}),w(a,{prop:"major",label:"专业"}),w(a,{prop:"gender",label:"性别"})])),_:1},8,["data"]),w($,{"custom-style":"border: 1px solid #ececec;border-top:none",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),total:n.value},null,8,["modelValue","total"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-9c09ef5f"]]);export{Q as default};
